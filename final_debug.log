Test run for /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Tests/bin/Debug/net10.0/TicketMasala.Tests.dll (.NETCoreApp,Version=v10.0)
VSTest version 18.0.1-dev (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
  Failed TicketMasala.Tests.IntegrationTests.LocalizationTests.Homepage_WithQueryString_ReturnsLocalizedContent(culture: "fr", expectedText: "Commencer gratuitement") [539 ms]
  Error Message:
   Assert.Contains() Failure: Sub-string not found
String:    "\n\n\n\n<!DOCTYPE html>\n<html lang="en">\n<hea"···
Not found: "<html lang="fr">"
  Stack Trace:
     at TicketMasala.Tests.IntegrationTests.LocalizationTests.Homepage_WithQueryString_ReturnsLocalizedContent(String culture, String expectedText) in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Tests/IntegrationTests/LocalizationTests.cs:line 54
--- End of stack trace from previous location ---
  Failed TicketMasala.Tests.IntegrationTests.LocalizationTests.Homepage_WithQueryString_ReturnsLocalizedContent(culture: "nl", expectedText: "Gratis aan de slag") [148 ms]
  Error Message:
   Assert.Contains() Failure: Sub-string not found
String:    "\n\n\n\n<!DOCTYPE html>\n<html lang="en">\n<hea"···
Not found: "<html lang="nl">"
  Stack Trace:
     at TicketMasala.Tests.IntegrationTests.LocalizationTests.Homepage_WithQueryString_ReturnsLocalizedContent(String culture, String expectedText) in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Tests/IntegrationTests/LocalizationTests.cs:line 54
--- End of stack trace from previous location ---
  Failed TicketMasala.Tests.IntegrationTests.LocalizationTests.Homepage_WithAcceptLanguageHeader_ReturnsLocalizedContent(culture: "fr", expectedText: "Commencer gratuitement") [91 ms]
  Error Message:
   Assert.Contains() Failure: Sub-string not found
String:    "\n\n\n\n<!DOCTYPE html>\n<html lang="en">\n<hea"···
Not found: "<html lang="fr">"
  Stack Trace:
     at TicketMasala.Tests.IntegrationTests.LocalizationTests.Homepage_WithAcceptLanguageHeader_ReturnsLocalizedContent(String culture, String expectedText) in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Tests/IntegrationTests/LocalizationTests.cs:line 94
--- End of stack trace from previous location ---
  Failed TicketMasala.Tests.IntegrationTests.LocalizationTests.Homepage_WithAcceptLanguageHeader_ReturnsLocalizedContent(culture: "nl", expectedText: "Gratis aan de slag") [118 ms]
  Error Message:
   Assert.Contains() Failure: Sub-string not found
String:    "\n\n\n\n<!DOCTYPE html>\n<html lang="en">\n<hea"···
Not found: "<html lang="nl">"
  Stack Trace:
     at TicketMasala.Tests.IntegrationTests.LocalizationTests.Homepage_WithAcceptLanguageHeader_ReturnsLocalizedContent(String culture, String expectedText) in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Tests/IntegrationTests/LocalizationTests.cs:line 94
--- End of stack trace from previous location ---
  Failed TicketMasala.Tests.Functional.WorkContainersApiFunctionalTests.Get_All_WorkContainers_Returns_Success_And_Json [46 ms]
  Error Message:
   System.Net.Http.HttpRequestException : Response status code does not indicate success: 500 (Internal Server Error).
  Stack Trace:
     at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at TicketMasala.Tests.Functional.WorkContainersApiFunctionalTests.Get_All_WorkContainers_Returns_Success_And_Json() in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Tests/Functional/WorkContainersApiFunctionalTests.cs:line 38
--- End of stack trace from previous location ---
  Standard Output Messages:
 Server Error Response: {"type":"https://tools.ietf.org/html/rfc9110#section-15.6.1","title":"Microsoft.Data.Sqlite.SqliteException","status":500,"detail":"SQLite Error 1: 'no such column: p.CustomerIds'.","exception":{"details":"Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: p.CustomerIds'.\n   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)\n   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()\n   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()\n   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()\n   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)\n   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\n   at TicketMasala.Web.Repositories.EfCoreProjectRepository.GetAllAsync() in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Web/Repositories/EfCoreProjectRepository.cs:line 40\n   at TicketMasala.Web.Controllers.Api.V1.WorkContainersController.GetAll() in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Web/Controllers/Api/V1/WorkContainersController.cs:line 35\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at TicketMasala.Web.Middleware.DeprecationHeaderMiddleware.InvokeAsync(HttpContext context) in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Web/Middleware/DeprecationHeaderMiddleware.cs:line 39\n   at TicketMasala.Web.Middleware.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Web/Middleware/RequestLoggingMiddleware.cs:line 30\n   at TicketMasala.Web.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Web/Middleware/SecurityHeadersMiddleware.cs:line 46\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","headers":{"Host":["localhost"]},"path":"/api/v1/work-containers","endpoint":"TicketMasala.Web.Controllers.Api.V1.WorkContainersController.GetAll (TicketMasala.Web)","routeValues":{"action":"GetAll","controller":"WorkContainers","version":"1"}},"traceId":"00-cf23a2c6cfe07acb03662e25a8a9b39a-b72f33964c21b7c8-00"}


  Failed TicketMasala.Tests.IntegrationTests.AuthenticatedRouteTests.TicketRoute_ReturnsSuccess_WhenAuthenticated [1 s]
  Error Message:
   Assert.Equal() Failure: Values differ
Expected: OK
Actual:   BadRequest
  Stack Trace:
     at TicketMasala.Tests.IntegrationTests.AuthenticatedRouteTests.TicketRoute_ReturnsSuccess_WhenAuthenticated() in /home/juan/coding/garamatic/ticket-masala/src/TicketMasala.Tests/IntegrationTests/AuthenticatedRouteTests.cs:line 106
--- End of stack trace from previous location ---

Failed!  - Failed:     6, Passed:     3, Skipped:     0, Total:     9, Duration: 1 s - TicketMasala.Tests.dll (net10.0)
